[#chapter-taocp-4A-7-0]
= 7章: 組合せ探索

* 存在
* 構成
* 数え上げ
* 生成
* 最適化


== Langford配置

stem:[n = 4m-1, 4m] の時にだけ存在することの証明は非常に簡単。
一方、stem:[n = 4m-1, 4m] の時にLangford配置が存在することの証明は難しいが、実際に構成すればよい。

.Langford
image::https://user-images.githubusercontent.com/47590231/116976575-51db6180-acfc-11eb-8eaa-0603b365d8bf.png[]

Langford配置の問題は完全被覆問題に帰着できるらしい。

stem:[n = 4] の場合

* `1` の置ける場所: (1, 3), (2, 4), (3, 5), (4, 6), (5, 7), (6, 8) から一つ選ぶ
* `2` の置ける場所: (1, 4), (2, 5), (3, 6), (4, 7), (5, 8) から一つ選ぶ
* `3` の置ける場所: (1, 5), (2, 6), (3, 7), (4, 8) から一つ選ぶ
* `4` の置ける場所: (1, 6), (2, 7), (3, 8) から一つ選ぶ

上の stem:[2(n-1) + \dots + (n-1) = \frac{3}{2} n(n-1)] 個の完全被覆問題となるのだろうか？

そして、完全被覆問題はdancing linksで効率的に全探索できるので、「均衡したLangford配置」「最小幅Langford配置」「均衡を欠くLangford配置」等を見つけることができる。

== 直交ラテン方陣

横断を見つけるというアイディアは面白かった。
実装してみた: https://github.com/cocococoa/puzzle

== 英語の5文字単語

sgb-words.txt の紹介

== 単語で作るグラフ

Caroll風のグラフの作り方。そのほかいろいろな方法でのグラフの作り方。
どれも楽しい。

== グラフの定義系

(略)

== グラフと有向グラフの表現

位数: stem:[n]、サイズ: stem:[m] のSGB有向グラフ

* stem:[n] 個の頂点節点の逐次配列
    * 頂点 stem:[k] (stem:[0\le k\lt n]) へのアクセスが容易
    * 32 byte
    * 標準フィールド
        * `NAME`
        * `ARCS`: `v` から出発する各弧の一重にリンクしたリスト (サイズ: stem:[d^+(v)])  の先頭の弧節点
* stem:[m] 個の弧の節点はリンク
    * 20 byte
    * フィールド
        * `TIP`: 弧の先端を表す頂点節点
        * `NEXT`: 同じ始点をもつ次の弧を表す弧節点

== グラフ的な次数列

`majorize`

== グラフの彼方

グラフに追加情報→ネットワーク


== 演習

=== 問3

理論は分からないが実装して探索してみると、たくさんあるらしい。

* https://wandbox.org/permlink/2o7OZGVzvj5dYEHr

=== 問8

Langford対が平面的かどうか判定するアルゴリズムさえ実装すればよい。
...わからん。。

=== 問9

結構簡単に見つかった。

* https://wandbox.org/permlink/ysFWwtJUeGPQ1X0s

=== 問13

全くわからん。。。

=== 問14

ラテン方陣を発見するプログラムを実装した。ただ、実行速度が残念で、(e)の直交相手は見つけられなかった。

* https://github.com/cocococoa/puzzle

